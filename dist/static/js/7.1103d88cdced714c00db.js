webpackJsonp([7],{BpCs:function(t,e){},uUni:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),o=i.n(s),n=i("LOkV"),a=i("Au9i"),c=i("NYxO"),u={data:function(){return{phone:"",captcha:"",isLoading:!1,seconds:-1,themes:[{themeBgc:"#BCCA8C",value:"组织",evalue:"(Organizer)",left:.44,top:0,width:1.03},{themeBgc:"#D4A69A",value:"关系",evalue:"(Relating)",left:1.55,top:0,width:.88},{themeBgc:"#FDBF77",value:"自信",evalue:"(Confidence)",left:0,top:.33,width:1.03},{themeBgc:"#CCBC95",value:"存在",evalue:"(Presence)",left:1.12,top:.33,width:.88},{themeBgc:"#92B8A4",value:"成就",evalue:"(Achieving)",left:2.08,top:.33,width:1.03},{themeBgc:"#92B8A4",value:"竞争",evalue:"(Competing)",left:0,top:.66,width:1.03},{themeBgc:"#FDBF77",value:"关心",evalue:"(Caring)",left:1.12,top:.66,width:.88},{themeBgc:"#BCCA8C",value:"发现",evalue:"(Discover)",left:2.08,top:.66,width:1.03},{themeBgc:"#CCBC95",value:"可靠",evalue:"(Dependability)",left:.3,top:.99,width:1.23},{themeBgc:"#D4A69A",value:"展望",evalue:"(Future Thinker)",left:1.61,top:.99,width:1.18}],isLogin:!1}},computed:o()({},Object(c.c)(["origin"])),watch:{seconds:function(t){var e=this;setTimeout(function(){t>0&&e.timeRun()},1e3)}},created:function(){var t=this;this.getOrigin(),document.title="少儿优势测评",this.getList().then(function(e){0===e.code?(t.examList=e.data.examList,t.isLogin=!0,t.phone=e.data.parentPhone):401===e.code&&(t.isLogin=!1)})},methods:o()({getOrigin:function(){var t=this.$route.query.origin||"";this.setOrigin(t)},goReport:function(){var t=this;if(this.isLogin)0===this.examList.length?(Object(a.Toast)("暂无历史报告，请先完成评测!"),setTimeout(function(){t.$router.push("/prepare")},1e3)):this.$router.push("/reports");else{if(this.checkCode())return Object(a.Toast)("请输入验证码！"),!1;this.login().then(function(e){0===e.code?t.$router.push("/reports"):401===e.code?(Object(a.Toast)("无查看权限!"),setTimeout(function(){t.$router.push("/main")},1e3)):402===e.code?(Object(a.Toast)("没有找到进行中的测验!"),setTimeout(function(){t.$router.push("/prepare")},1e3)):Object(a.Toast)(e.msg)})}},goTest:function(){var t=this;if(this.isLogin)this.$router.push("/prepare");else{if(!this.isLogin&&this.checkCode())return Object(a.Toast)("请输入验证码！"),!1;this.login().then(function(e){0===e.code?t.$router.push("/prepare"):401===e.code?(Object(a.Toast)("无查看权限!"),setTimeout(function(){t.$router.push("/main")},1e3)):402===e.code?(Object(a.Toast)("没有找到进行中的测验!"),setTimeout(function(){t.$router.push("/prepare")},1e3)):Object(a.Toast)(e.msg)})}},getCode:function(){var t=this;if(!this.checkMobile())return Object(a.Toast)("请输入正确的手机号！"),!1;this.getAuthCode().then(function(e){0===e.code?(Object(a.Toast)("验证码已发送！"),t.seconds=60):401===e.code?(Object(a.Toast)("无查看权限!"),setTimeout(function(){t.$router.push("/main")},1e3)):402===e.code?(Object(a.Toast)("没有找到进行中的测验!"),setTimeout(function(){t.$router.push("/prepare")},1e3)):Object(a.Toast)(e.msg)})},timeRun:function(){this.seconds=this.seconds-1},checkMobile:function(){return/^1(3|4|5|6|7|8)\d{9}$/.test(this.phone)},checkCode:function(){return 0===this.captcha.replace(/\s/g,"").length},getAuthCode:function(){var t={};return t.parentPhone=this.phone,n.a.request({method:"post",url:"c/api/get_sms_auth_code",data:t})},login:function(){var t={};return t.parentPhone=this.phone,t.smsAuthCode=this.captcha,n.a.request({method:"post",url:"c/api/login",data:t})},getList:function(){return n.a.request({method:"GET",url:"c/api/query_exam_list"})}},Object(c.b)(["setOrigin"])),components:{}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"test_main"},[i("div",{staticClass:"title_bg"}),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"container"},[t._m(0),t._v(" "),i("div",{staticClass:"main_login"},[t.isLogin?t._e():i("div",{staticClass:"login_title"},[t._v("\n          手机登录\n        ")]),t._v(" "),i("div",{staticClass:"login_form"},[t.isLogin?i("div",{staticClass:"login_already"},[t._v("\n            您好，"),i("span",{staticClass:"login_user"},[t._v(t._s(t.phone))])]):i("div",[i("div",{staticClass:"form_item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form_tel",attrs:{placeholder:"请输入手机号",type:"tel"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form_item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],staticClass:"form_code",attrs:{placeholder:"请输入验证码"},domProps:{value:t.captcha},on:{input:function(e){e.target.composing||(t.captcha=e.target.value)}}}),t._v(" "),t.seconds>0?i("mt-button",{staticClass:"form_code_load"},[t._v("剩余"+t._s(t.seconds)+"s")]):i("mt-button",{staticClass:"form_code_load",on:{click:t.getCode}},[t._v("获取验证码")])],1)]),t._v(" "),i("div",{staticClass:"form_buttons"},[i("mt-button",{staticClass:"button_common button_orange",on:{click:t.goTest}},[t._v("开始测评")]),t._v(" "),i("mt-button",{staticClass:"button_common",on:{click:t.goReport}},[t._v("查看历史报告")])],1)])])])]),t._v(" "),i("div",{staticClass:"title_buttom"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main_des"},[e("div",{staticClass:"main_des_tittle"},[this._v("\n          少儿优势测评\n        ")]),this._v(" "),e("div",{staticClass:"main_des_info"},[this._v("\n          少儿优势测评基于积极心理学研发而成。它通过科学的测量发现 “孩子是什么样的人” 。测评结果将呈现您孩子的三大主要驱动因子，帮您解答 “孩子为什么会产生一些特定的行为”。此测评大约需要10分钟，由家长注册信息后，交由孩子填写完成。 现在，让我们开启了解孩子的旅程吧！\n        ")])])}]};var h=i("VU/8")(u,r,!1,function(t){i("BpCs")},"data-v-eed4bef2",null);e.default=h.exports}});